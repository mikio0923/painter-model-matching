# 全体の画面UI管理の方法

Laravel（Blade + Tailwind + Alpine.js）で「画面UIを一括で管理したい」ときに取りうる方法を、軽いものから重いものまで整理しました。

---

## 現状の整理

- **レイアウト**: `layouts/app.blade.php`, `layouts/guest.blade.php`, `layouts/navigation.blade.php`
- **テーマ**: `tailwind.config.js` で primary / secondary / accent / success / warning / error、フォント・余白・角丸を定義
- **コンポーネント**: `resources/views/components/` にボタン・入力・モーダル・トーストなど 15 個程度

---

## 方法1：デザイントークン＋レイアウトの一元化（いちばん現実的）

**やること**

- 色・余白・フォントは **Tailwind の theme だけ** を正とする（すでに `tailwind.config.js` でやっている）
- 全画面で使う「共通レイアウト」を **1〜2 種類に絞る**（`app` / `guest` のまま運用）
- ヘッダー・フッター・ナビ・フラッシュメッセージは **レイアウトと @include でだけ** 変更する

**管理のしかた**

- 見た目を変えたいときは **`tailwind.config.js` と `layouts/*` だけ触る** と決める
- 各画面の Blade では `primary-500` などの **トークン名だけ** 使い、`#3b82f6` のような直書きをやめる

**メリット**: 既存構成の延長で、工数少なく全体のトーンを揃えられる。

---

## 方法2：UI インベントリ（画面・コンポーネント一覧）をドキュメントで持つ

**やること**

- 全画面と、使っているコンポーネントを **一覧ドキュメント** にする
- 例: 「モデル一覧 = layouts.app + コンポーネント x-card, x-primary-button」「依頼詳細 = layouts.app + x-modal, x-loading-button」のように一覧化

**管理のしかた**

- Markdown や Notion などで「画面名 → レイアウト → 使用コンポーネント → 備考」の表を更新
- 新規画面追加・リファクタ時に **この一覧を更新する** ルールにする

**メリット**: どこで何が使われているか把握しやすく、変更影響範囲の確認に使える。

**例（このプロジェクト用のひな形）**

| 画面 | レイアウト | 主なコンポーネント | 備考 |
|------|------------|--------------------|------|
| トップ | app | - | home.blade.php |
| モデル一覧 | app | - | models/index |
| モデル詳細 | app | （タブ等） | models/show + 部分 |
| 依頼一覧 | app | - | jobs/index |
| 新規登録 | guest | x-text-input, x-primary-button 等 | auth/register |
| マイページ(モデル) | app | - | mypage/model |
| ... | ... | ... | ... |

---

## 方法3：コンポーネントカタログ（Living Style Guide）を1ページで作る

**やること**

- **コンポーネント一覧用の Blade ページを1つ** 用意する（例: `/styleguide` や `/dev/components`）
- その中で `<x-primary-button>`, `<x-text-input>` などを並べて表示する
- 認証付き・開発時のみ表示など、アクセス制限をかける

**管理のしかた**

- 新規コンポーネントを追加したら、このページにサンプルを1つ追加する
- デザイン確認・仕様共有・リグレッション確認に使う

**メリット**: 実物の Blade コンポーネントがそのまま見られる。Storybook より軽い。

**実装の目安**

- ルート例: `Route::get('/styleguide', ...)->middleware('auth')->...;`
- ビュー: `@include` や `<x-*>` を並べただけの Blade（例: `styleguide.blade.php`）

---

## 方法4：デザインシステムを Markdown で定義する

**やること**

- 「ボタンは primary / secondary / danger の3種」「カードは白背景＋角丸＋shadow」など、**ルールを Markdown で文書化** する
- ファイル例: `docs/design-system.md`（色・タイポ・余白・コンポーネントの使い方）

**管理のしかた**

- デザイン変更や新コンポーネント追加時に、このドキュメントを先に更新する
- 実装は「design-system.md に書いた通り」に揃える

**メリット**: 仕様が文章で残り、Tailwind のクラス名と対応づけて管理できる。

---

## 方法5：Storybook でコンポーネントを管理する（やや重い）

**やること**

- [Storybook](https://storybook.js.org/) を導入し、Blade や Vue/React コンポーネントを「ストーリー」として登録する
- Laravel の場合は [Laravel Storybook](https://github.com/nice-and-simple/laravel-storybook) や、Blade を HTML としてエクスポートして Storybook に渡す方法がある

**管理のしかた**

- 各コンポーネントごとに「通常」「ローディング」「エラー」などのバリエーションをストーリーで定義
- UI の変更はまず Storybook で確認してから本番ビューに反映

**メリット**: コンポーネント単位のテスト・デザイン確認がしやすく、フロントが大きくなったときに有効。  
**デメリット**: 初期導入・Blade との連携に手間がかかる。

---

## 方法6：画面一覧＋スクショでビジュアル管理（スプレッドシート＋画像）

**やること**

- 全画面の一覧（画面名・URL・役割）をスプレッドシートで管理
- 定期的に **スクリーンショット** を撮り、同じシートに貼る or 画像フォルダとリンクで紐づける

**管理のしかた**

- リリース前や大きなデザイン変更後にスクショを更新
- 「見た目の変化」を画像で追える

**メリット**: 非エンジニアとも共有しやすい。  
**デメリット**: 手動更新になるため、更新が遅れがち。

---

## おすすめの組み合わせ（このプロジェクトの場合）

1. **まず**: **方法1（トークン＋レイアウト一元化）** をルールとして徹底する。
2. **並行**: **方法2（UI インベントリ）** を `docs/` に Markdown で1ファイル作る（既に「機能・画面一覧」があるので、そこに「使用レイアウト・主なコンポーネント」列を足すだけでも可）。
3. **余裕があれば**: **方法3（コンポーネント用1ページ）** を `/styleguide` として追加し、ボタン・入力・モーダル・トーストを並べたページを用意する。

この3つで「全体の画面UI」をかなり把握しつつ、変更を一箇所に寄せて管理できます。  
Storybook やスクショ運用は、チームが大きくなるか、デザイナーと密にやりとりする段階で検討するとよいです。

---

## 次の一歩（具体的にやるなら）

- **今すぐできること**
  - `tailwind.config.js` を「色・余白・フォントの唯一の定義場所」と明文化する（README やこの doc に1行追記）。
  - `docs/機能・画面一覧とリリース課題.md` の画面一覧に「レイアウト」「主なコンポーネント」列を追加する。
- **1〜2日でできること**
  - `/styleguide` 用のルートと Blade を1つ作り、既存の `<x-primary-button>`, `<x-secondary-button>`, `<x-text-input>`, `<x-toast>`, `<x-modal>` などを並べたページを用意する。

必要なら、`/styleguide` のルート・コントローラ・Blade のひな形も具体的に書けます。
